# 3-响应式编程简介

Reactor 是 Reactive Programming 范式的一个实现，可以总结如下：

> 响应式编程是一种异步编程范式，涉及数据流和变化的传播。这意味着可以通过所采用的编程语言轻松表达静态（例如数组）或动态（例如事件发射器）数据流。
> —— https://en.wikipedia.org/wiki/Reactive_programming



作为响应式编程方向的第一步，微软在 .NET 生态系统中创建了响应式扩展 (Rx) 库。然后 RxJava 在 JVM 上实现了响应式编程。随着时间的推移，通过 Reactive Streams 的努力，出现了 Java 的响应式标准，该标准为 JVM 上的响应式库定义了一组接口和交互规则。此接口已集成到 Java 9 的 Flow 类下。

响应式编程标准的实现通常以面向对象的语言呈现，作为观察者设计模式的扩展。您还可以将主要的流模式与熟悉的 Iterator 设计模式进行比较，因为所有这些库中的 Iterable-Iterator 对都具有二元性。两者主要区别之一是：迭代器是基于拉的，响应式流是基于推的。

**迭代**是一种命令式编程模式，即访问值的方法完全是 Iterable 的责任。在响应式中，由开发人员选择何时访问序列中的 next() 项。在响应式中，是发布者-订阅者模式。但是是发布者在新可用值到来时通知订阅者，而这种推送方面的特性是响应式的关键。此外，应用于推送值的操作是以声明式而不是命令式表达的：程序员表达计算的逻辑而不是描述其确切的控制流程。

除了推送值之外，错误处理和完成方面也以明确定义的方式进行了规范。发布者可以向其订阅者推送新值（通过调用 onNext），也可以发出错误信号（通过调用 onError）或完成（通过调用 onComplete）。错误信号和完成信号都会终止数据流。这可以总结如下：

```
onNext x 0..N [onError | onComplete]
```

上述方法非常灵活。该模式支持没有值、一个值或 n 个值（包括无限的数据流，例如时钟的连续滴答）。



但是我们首先要回答一个问题：为什么我们需要这样一个异步响应式库？

## 3.1.阻塞造成浪费

## 3.2.异步解决问题

## 3.3.从命令式编程到响应式编程